group 'com.slq.qrcode'
version '1.0-SNAPSHOT'

apply plugin: 'java'
apply plugin: 'idea'
apply plugin: 'application'

repositories {
    mavenCentral()
    maven { url 'https://jitpack.io' }
}

mainClassName = "com.slq.qrcode.reader.WhiteboxLocation"

task readerScript(type: CreateStartScripts) {
    outputDir = new File(project.buildDir, 'scripts')
    mainClassName = 'com.slq.qrcode.reader.QRCodeReader'
    applicationName = "reader"
    classpath = jar.outputs.files + project.configurations.runtime
}

task generatorScript(type: CreateStartScripts) {
    mainClassName = 'com.slq.qrcode.generator.QRCodeGenerator'
    applicationName = "generator"
    outputDir = new File(project.buildDir, 'scripts')
    classpath = jar.outputs.files + project.configurations.runtime
}

readerScript.finalizedBy(installDist, generatorScript)

idea {
    module {
        downloadJavadoc = true
        downloadSources = true
    }
}

dependencies {
    compile project(':qrcode-reader')
    compile project(':qrcode-generator')
}
